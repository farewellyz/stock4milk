<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏∞‡∏ö‡∏öStock‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏¥‡πâ‡∏ß üíñ</title>
  <style>
    body {
      font-family: 'Kanit', sans-serif;
      background: #fff0f5;
      color: #333;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #d63384;
      font-size: 2em;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }

    select, input {
      padding: 10px;
      font-size: 1em;
      border: 2px solid #ffb6c1;
      border-radius: 10px;
      background: #fff;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropbtn {
      background-color: #ff69b4;
      color: white;
      padding: 10px 20px;
      font-size: 1em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #fff0f5;
      min-width: 120px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
      z-index: 1;
      border-radius: 8px;
      overflow: hidden;
    }

    .dropdown-content a {
      color: #d63384;
      padding: 10px 12px;
      text-decoration: none;
      display: block;
    }

    .dropdown-content a:hover {
      background-color: #ffe4e1;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    button#restockBtn {
      background-color: #6f42c1;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 10px;
      cursor: pointer;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      margin: 0 auto;
    }

    th, td {
      padding: 10px;
      text-align: center;
      /* no border */
    }

    th {
      background-color: #ffc0cb;
      color: #4b0082;
    }

    tbody tr:nth-child(odd) {
      background-color: #fff0f5;
    }

    tbody tr:nth-child(even) {
      background-color: #ffe4e1;
    }

    tbody td:nth-child(2), tbody td:nth-child(3) {
      font-weight: bold;
      color: #8b008b;
    }

    tbody td:first-child {
      text-align: center;
    }

    tr:hover {
      background-color: #f7c9db;
    }

    /* log area */
    #logArea {
      margin: 20px auto 0;
      width: 90%;
      background: #fff0f5;
      border: 2px solid #ffb6c1;
      border-radius: 10px;
      padding: 10px;
      height: 160px;
      overflow-y: auto;
      font-size: 0.9em;
      color: #d63384;
      box-shadow: inset 0 0 5px rgba(198, 50, 103, 0.2);
      text-align: left;
      white-space: normal;
      font-family: 'Kanit', sans-serif;
    }

    #logArea div {
      padding: 3px 0;
      border-bottom: 1px solid #f5b7cc;
      display: block;
    }
  </style>
</head>
<body>
  <h1>‡∏£‡∏∞‡∏ö‡∏öStock‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏¥‡πâ‡∏ß üíñ</h1>

  <div class="controls">
    <select id="itemSelect"></select>
    <input type="number" id="amountInput" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" min="1" />

    <div class="dropdown">
      <button class="dropbtn">‡πÄ‡∏ö‡∏¥‡∏Å</button>
      <div class="dropdown-content">
        <a href="#" onclick="withdraw('temp')">‡πÄ‡∏ö‡∏¥‡∏Å‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</a>
        <a href="#" onclick="withdraw('po')">‡πÄ‡∏ö‡∏¥‡∏Å PO</a>
      </div>
    </div>

    <div class="dropdown">
      <button class="dropbtn">‡πÄ‡∏ï‡∏¥‡∏°</button>
      <div class="dropdown-content">
        <a href="#" onclick="addStock('temp')">‡πÄ‡∏ï‡∏¥‡∏°‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</a>
        <a href="#" onclick="addStock('po')">‡πÄ‡∏ï‡∏¥‡∏° PO</a>
      </div>
    </div>

    <button id="restockBtn" onclick="restock()">Restock</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
        <th>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</th>
        <th>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ PO</th>
      </tr>
    </thead>
    <tbody id="stockTableBody"></tbody>
  </table>

  <!-- Log ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
  <div id="logArea" aria-live="polite" role="log" aria-label="‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏¥‡∏Å"></div>

  <script>
    const items = [
      ["Wall putty Bosny 5Kg", 0], ["‡∏™‡∏µ‡∏ó‡∏≤‡∏ú‡∏ô‡∏±‡∏á 9 ‡∏•‡∏¥‡∏ï‡∏£ ‡πÇ‡∏à‡∏ï‡∏±‡∏ô‡πÄ‡∏≠‡∏™‡πÄ‡∏ã‡πâ‡∏ô‡∏≠‡∏µ‡∏ã‡∏µ‡πà‡∏Ñ‡∏•‡∏µ‡∏ô", 27],
      ["‡∏™‡∏µ‡∏ó‡∏≤‡∏ù‡πâ‡∏≤ 9 ‡∏•‡∏¥‡∏ï‡∏£ ‡∏ó‡∏£‡∏π‡∏ö‡∏¥‡∏ß‡∏ï‡∏µ‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏î‡πâ‡∏≤‡∏ô", 8], ["‡∏Å‡∏≤‡∏ß‡∏ï‡∏∞‡∏õ‡∏π Maxbond", 11],
      ["‡∏™‡∏µ‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏õ‡∏π‡∏ô‡πÄ‡∏Å‡πà‡∏≤ 18 ‡∏•‡∏¥‡∏ï‡∏£ TOA Contact Primer 18.925 lt", 3],
      ["‡∏õ‡∏π‡∏ô‡∏â‡∏≤‡∏ö‡πÄ‡∏™‡∏∑‡∏≠‡∏â‡∏≤‡∏ö‡∏ö‡∏≤‡∏á Lanko 110 ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", 45], ["‡∏õ‡∏π‡∏ô‡∏™‡∏Å‡∏¥‡∏° TOA ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", 6],
      ["‡∏ï‡∏≤‡∏Ç‡πà‡∏≤‡∏¢‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏° ‡πÄ‡∏ö‡∏≠‡∏£‡πå 24 ‡∏ï‡∏≤‡∏´‡πà‡∏≤‡∏á 1/2 ‡∏ô‡∏¥‡πâ‡∏ß ‡∏Ç‡∏ô‡∏≤‡∏î 0.9 x 30 ‡πÄ‡∏°‡∏ï‡∏£", 0],
      ["ToaSilicone Sealant : White 280 ml ‡∏Ç‡∏≤‡∏ß‡∏Ç‡∏∏‡πà‡∏ô", 68], ["‡∏õ‡∏π‡∏ô‡∏Å‡∏≤‡∏ß‡πÄ‡∏ß‡πÄ‡∏ö‡∏≠‡∏£‡πå 20 kg", 24],
      ["‡∏¢‡∏¥‡∏ö‡∏ã‡∏±‡∏° 9 ‡∏°‡∏¥‡∏• ‡∏•‡∏≤‡∏î", 48], ["‡∏õ‡∏π‡∏ô‡∏â‡∏≤‡∏ö‡∏¢‡∏¥‡∏ö‡∏ã‡∏±‡∏°", 17], ["‡∏ö‡∏•‡∏π‡∏ä‡∏µ‡∏ó 1.8‡πÄ‡∏°‡∏ï‡∏£ 25‡πÄ‡∏°‡∏ï‡∏£", 4],
      ["‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏ã‡∏µ‡∏•‡πÉ‡∏™", 8], ["‡∏õ‡∏π‡∏ô‡∏¢‡∏≤‡πÅ‡∏ô‡∏ß 0774 ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤", 28], ["‡∏™‡∏Å‡∏£‡∏π‡∏¢‡∏¥‡∏á‡∏ù‡πâ‡∏≤‡∏î‡∏≥ 2x18mm. (100‡∏ï‡∏±‡∏ß)", 0],
      ["PU ‡∏ã‡∏¥‡∏•‡∏¥‡πÇ‡∏Ñ‡∏ô ‡∏Ç‡∏≤‡∏ß", 23], ["PU ‡∏ã‡∏¥‡∏•‡∏¥‡πÇ‡∏Ñ‡∏ô ‡πÄ‡∏ó‡∏≤", 6], ["‡πÅ‡∏î‡∏õ 303 Oak", 23],
      ["‡πÅ‡∏î‡∏õ 303 ‡∏Ç‡∏≤‡∏ß", 24], ["‡∏Å‡∏≤‡∏ß‡∏ï‡∏∞‡∏õ‡∏π Pattex", 19], ["‡πÇ‡∏Ñ‡∏£‡∏á‡∏ù‡πâ‡∏≤‡∏ã‡∏µ‡πÑ‡∏•‡∏ô‡πå", 424],
      ["‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Å‡∏≤‡∏ß 1 ‡∏ô‡∏¥‡πâ‡∏ß", 94], ["‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Å‡∏≤‡∏ß 2 ‡∏ô‡∏¥‡πâ‡∏ß", 57], ["‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏£‡∏≤‡∏¢ ‡πÄ‡∏ö‡∏≠‡∏£‡πå1 ‡∏ï‡∏£‡∏≤‡∏à‡∏£‡∏∞‡πÄ‡∏Ç‡πâ", 0],
      ["‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏£‡∏≤‡∏¢ ‡πÄ‡∏ö‡∏≠‡∏£‡πå3 ‡∏ï‡∏£‡∏≤‡∏à‡∏£‡∏∞‡πÄ‡∏Ç‡πâ", 43], ["‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏£‡∏≤‡∏¢ ‡πÄ‡∏ö‡∏≠‡∏£‡πå4 ‡∏ï‡∏£‡∏≤‡∏à‡∏£‡∏∞‡πÄ‡∏Ç‡πâ", 100],
      ["‡∏õ‡∏π‡∏ô‡∏¢‡∏≤‡πÅ‡∏ô‡∏ß 0723 ‡∏™‡∏µ‡∏Ñ‡∏£‡∏µ‡∏°", 6], ["‡∏Å‡∏≤‡∏ß‡∏•‡∏≤‡πÄ‡∏ó‡πá‡∏Å TOA", 12], ["Epoxy A+B Putty", 3],
      ["Epoxy Alteco 2 ton", 76], ["‡∏™‡∏Å‡∏£‡∏π‡∏î‡∏≥ 6*1", 12], ["‡∏Å‡∏£‡∏∞‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏Ç‡∏Å", 89],
      ["‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü Corridor", 11], ["‡πÄ‡∏ó‡∏õ‡πÑ‡∏ü‡πÄ‡∏ö‡∏≠‡∏£‡πå", 96], ["‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°‡∏Ç‡∏≠‡∏á‡∏°‡πâ‡∏ß‡∏ô‡πÄ‡∏•‡πá‡∏Å", 49],
      ["‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°‡∏Ç‡∏≠‡∏á‡∏°‡πâ‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà", 15], ["‡πÄ‡∏ó‡∏õ‡∏ú‡πâ‡∏≤‡∏¢‡∏¥‡∏õ‡∏ã‡∏±‡πà‡∏°", 0], ["‡∏™‡∏µ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏á Jotashield 8287", 6],
      ["‡∏™‡∏µ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏á Jotashield 8288", 5], ["‡πÄ‡∏ó‡∏õ‡πÉ‡∏™ 2‡∏ô‡∏¥‡πâ‡∏ß", 16]
    ];

    // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å localStorage ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ default items
    const savedStock = localStorage.getItem("stockData");
    const stock = savedStock ? JSON.parse(savedStock) : items.map(([name, qty]) => ({
      name,
      temp: 0,
      po: qty
    }));

    const logArea = document.getElementById("logArea");

    function saveStockToLocalStorage() {
      localStorage.setItem("stockData", JSON.stringify(stock));
    }

    function updateTable() {
      const tbody = document.getElementById("stockTableBody");
      tbody.innerHTML = "";
      stock.forEach((item, index) => {
        const row = `<tr>
          <td>${item.name}</td>
          <td>${item.temp}</td>
          <td>${item.po}</td>
        </tr>`;
        tbody.innerHTML += row;
      });

      const select = document.getElementById("itemSelect");
      select.innerHTML = stock.map((item, i) => `<option value="${i}">${item.name}</option>`).join("");
      saveStockToLocalStorage();
    }

    function addLog(text) {
      const now = new Date();
      const timeString = now.toLocaleString('th-TH', {
        year: 'numeric', month: '2-digit', day: '2-digit',
        hour: '2-digit', minute: '2-digit', second: '2-digit'
      });
      const div = document.createElement("div");
      div.textContent = `[${timeString}] ${text}`;
      logArea.prepend(div);
    }

    function addStock(type) {
      const index = document.getElementById("itemSelect").value;
      const amount = parseInt(document.getElementById("amountInput").value);
      if (!amount || amount < 1) return alert("‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      stock[index][type] += amount;
      updateTable();
      addLog(`‡πÄ‡∏ï‡∏¥‡∏° ${type === 'po' ? 'PO' : '‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß'}: ${stock[index].name} ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô +${amount}`);
    }

    function withdraw(type) {
      const index = document.getElementById("itemSelect").value;
      const amount = parseInt(document.getElementById("amountInput").value);
      if (!amount || amount < 1) return alert("‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      if (stock[index][type] < amount) return alert("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏¥‡∏Å");

      stock[index][type] -= amount;
      updateTable();
      addLog(`‡πÄ‡∏ö‡∏¥‡∏Å ${type === 'po' ? 'PO' : '‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß'}: ${stock[index].name} ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô -${amount}`);
    }

    function restock() {
      stock.forEach(item => {
        item.po += item.temp;
        item.temp = 0;
      });
      updateTable();
      addLog("Restock: ‡∏¢‡πâ‡∏≤‡∏¢‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏° PO");
    }

    updateTable();
  </script>
</body>
</html>
